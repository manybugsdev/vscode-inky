# Inkランゲージチュートリアル - インタラクティブRPGアドベンチャー

## 概要

このチュートリアル（`tutorial.ink`）は、RPGをテーマにしたアドベンチャーを通じて、Inkナラティブスクリプト言語を総合的に学べるインタラクティブガイドです。実践的で魅力的な方法で、Ink言語の主要な機能をすべて実演します。

## 学習内容

チュートリアルは16のセクションで構成されており、それぞれ異なるInk言語の機能に焦点を当てています：

### 1. 基本テキストと選択肢
- シンプルなナラティブテキスト
- `*`（一度のみ）と`+`（繰り返し可能）を使用した基本的な選択肢
- 選択肢のテキストと応答

### 2. ノット（Knot）とステッチ（Stitch）
- **ノット**（`===`）：主要なストーリーセクション
- **ステッチ**（`=`）：ノット内のサブセクション
- ストーリーセクション間のナビゲーション

### 3. 変数
- `VAR`：グローバル変数（数値、文字列）
- `LIST`：列挙型の状態
- 変数の宣言と初期化

### 4. 条件文とロジック
- 条件付きテキスト：`{条件: テキスト}`
- 条件付き選択肢
- 変数の比較とロジック

### 5. ギャザー（Gather）とウィーブ（Weave）
- **ギャザー**（`-`）：複数の選択肢パスを収束
- ナラティブスレッドを織り戻す
- 分岐後のフロー制御

### 6. 代替案とシーケンス
- **代替案**：`{選択肢1|選択肢2|選択肢3}`
- **シーケンス**：サイクル、停止、シャッフルするテキスト
- 繰り返しコンテンツのバリエーション

### 7. 一時変数とロジック
- `TEMP`：ローカルスコープの変数
- 算術演算
- 複雑なロジック式

### 8. 高度な条件文
- ネストされた条件
- `else`節
- 多階層の条件ロジック

### 9. 関数
- 再利用可能な関数の定義
- 関数のパラメータと戻り値
- 純粋な関数 vs 副作用のある関数

### 10. トンネル（Tunnel）
- **トンネル**（`->->`）：再利用可能なストーリーフラグメント
- `->->`による呼び出し元への復帰
- ダイバートとリターンのフローパターン

### 11. メインクエストとスレッド
- 複雑なストーリー分岐
- 複数のクエスト追跡
- リストを使用した状態管理

### 12. リストを使用した戦闘システム
- `LIST`の操作（追加、削除、チェック）
- 敵の状態追跡
- インベントリ管理

### 13. 戦闘メカニクス
- ターン制戦闘の実装
- ヘルスとダメージ計算
- 勝利と敗北の条件

### 14. ストーリークライマックス
- ストーリースレッドの統合
- 以前の選択の結果
- 劇的なストーリーのピーク

### 15. マルチエンディングとタグ
- 異なるストーリーエンディング
- `#`タグによるメタデータ
- ストーリーの結果の追跡

### 16. バリエーション付きエンディング
- 変数ベースのエンディングのバリエーション
- キャラクタークラス固有の結果
- ストーリー統計と実績

## チュートリアルの使い方

1. **VS Codeで開く**：vscode-inky拡張機能がインストールされたVisual Studio Codeで`examples/tutorial.ink`を開きます。

2. **ライブプレビューを開始**：エディタツールバーのプレビューアイコン（📖）をクリックするか、コマンドパレットから「Ink: Open Preview」を使用します。

3. **インタラクティブにプレイ**：選択肢を選んで、異なるInk機能がリアルタイムでどのように動作するかを確認します。

4. **コードを読む**：`.ink`ファイルには、遭遇する各機能を説明する詳細なコメントが含まれています。

5. **実験する**：コードを変更して、変更がストーリーにどのような影響を与えるかを確認してください。

## 実演される主要機能

### 変数と状態管理
```ink
VAR player_class = "Warrior"
VAR health = 100
VAR gold = 50

LIST inventory = sword, shield, potion
VAR items = ()
```

### 選択肢と分岐
```ink
* [剣で攻撃する]
    -> combat
* [魔法を唱える]
    -> magic_combat
+ [逃げる]
    -> escape
```

### 条件文
```ink
{player_class == "Warrior":
    あなたは強力な剣を振ります！
}
{health < 30:
    * [回復ポーションを飲む]
        -> heal
}
```

### 関数とトンネル
```ink
=== function calculate_damage(base_damage) ===
~ return base_damage + strength

=== healing_spring ===
あなたは魔法の泉から水を飲みます。
~ health = max_health
->->
```

## ストーリー構造

チュートリアルは完全なRPGアドベンチャーアークに沿っています：

1. **キャラクター作成**：クラス（戦士、魔法使い、盗賊）を選択
2. **トレーニング**：基本スキルを学び、初期装備を受け取る
3. **最初のクエスト**：ギルドからミッションを受諾
4. **探索**：さまざまな場所をナビゲート
5. **戦闘**：敵とのターン制バトルに参加
6. **選択**：ストーリーに影響を与える決定を下す
7. **クライマックス**：チャレンジングなボス戦に挑む
8. **解決**：複数の可能性のあるエンディングの1つを体験

## 学習のヒント

- **時間をかけて**：コードのコメントを読んで、各セクションが何をするのかを理解してください
- **異なるパスを試す**：異なる選択肢で何度もプレイしてください
- **変更して実験する**：変数を変更して何が起こるかを確認してください
- **プレビューを確認する**：変更がライブプレビューにどのように影響するかを観察してください
- **ドキュメントを参照する**：詳細については[Inkドキュメント](https://github.com/inkle/ink/blob/master/Documentation/WritingWithInk.md)をご覧ください

## 変数リファレンス

### プレイヤー統計
- `player_class`：選択したクラス（戦士/魔法使い/盗賊）
- `strength`, `intelligence`, `agility`：キャラクター属性
- `health`, `max_health`：ヒットポイント
- `gold`：通貨
- `experience`, `level`：進行統計

### 状態追跡
- `items`：インベントリリスト
- `dragon_quest`, `village_quest`：クエスト進行状況
- `fame`：評判レベル
- `goblin_chieftain`：敵の状態

## 次のステップ

このチュートリアルを完了すると、以下のことができるようになります：

- Inkで独自のインタラクティブストーリーを作成する
- 複雑な分岐ナラティブを実装する
- 変数と状態管理を効果的に使用する
- ナラティブ形式でゲームのようなメカニクスを構築する
- ゲームやアプリケーションで使用するためにストーリーをエクスポートする

## 追加リソース

- [Ink公式ウェブサイト](https://www.inklestudios.com/ink/)
- [Ink GitHubリポジトリ](https://github.com/inkle/ink)
- [Inkで書くガイド](https://github.com/inkle/ink/blob/master/Documentation/WritingWithInk.md)
- [Inkjs（JavaScript ランタイム）](https://github.com/y-lohse/inkjs)
- [Inkyエディタ](https://github.com/inkle/inky)

楽しいストーリーテリングを！🎮📖
